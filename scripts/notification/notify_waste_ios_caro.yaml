
alias: Notify - Als vuilbakken buiten moeten - Ios Caro
sequence:
  - condition: template
    value_template: "{{ states('input_boolean.notify_caro') in ['on'] and states('person.caroline') in ['home'] }}"
  - service: notify.ios_ios_iphone_caro
    data_template:
      message: >
        {% if ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_restafval.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_papier.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_pmd.state) %}
          Zet vandaag PMD, PAPIER en RESTAFVAL buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_restafval.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states.sensor.ophaalkalender_papier.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_pmd.state) %}
          Zet vandaag PMD en RESTAFVAL buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states.sensor.ophaalkalender_restafval.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_papier.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_pmd.state) %}
          Zet vandaag PMD en PAPIER buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_restafval.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_papier.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states.sensor.ophaalkalender_pmd.state) %}
          Zet vandaag PAPIER en RESTAFVAL buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states.sensor.ophaalkalender_restafval.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states.sensor.ophaalkalender_papier.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_pmd.state) %}
          Zet vandaag PMD buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states.sensor.ophaalkalender_restafval.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_papier.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states.sensor.ophaalkalender_pmd.state) %}
          Zet vandaag PAPIER buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_restafval.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states.sensor.ophaalkalender_papier.state) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states.sensor.ophaalkalender_pmd.state) %}
          Zet vandaag RESTAFVAL buiten, morgen komen ze deze ophalen.
        {% else %}
          Check even of er afval buiten moet. Ik ben niet zeker.
        {% endif %}

#"{{ as_timestamp(states.sensor.ophaalkalender_restafval.state) != as_timestamp(states.sensor.date.state) }}"

# {{((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states.sensor.ophaalkalender_restafval.state) }}
