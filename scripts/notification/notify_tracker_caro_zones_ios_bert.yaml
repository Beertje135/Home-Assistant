
alias: Notify iOS Bert - Bewoner Caro - Als in zone
sequence:
  - condition: template
    value_template: "{{ states('input_boolean.notify_bert') in ['on'] }}"
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: "CARO STATUS"
      message: >
        {% if states('person.caroline') in ['Ivy', 'Nona & Pepe', 'Mimi & Fleri'] %}
          Caroline is aangekomen bij {{ states('person.caroline') }}.
        {% elif states('person.caroline') in ['Ziekenhuis St-Augustinus', 'Ziekenhuis Willebroek', 'Ziekenhuis Edegem', 'Ziekenhuis Reet', 'Ziekenhuis Middelheim'] %}
          Geen paniek maar Caroline is nabij het {{ states('person.caroline') }}.
        {% elif states('person.caroline') in ['Checkpoint 1'] %}
          Caroline is onderweg naar huis. (Ikea Wilrijk)
        {% elif states('person.caroline') in ['Checkpoint 2'] %}
          Caroline is bijna thuis. (Sleuf)
        {% elif states('person.caroline') in ['Checkpoint 3'] %}
          Caroline is bijna thuis. (Fort Breendonck)
        {% elif states('person.caroline') in ['Checkpoint 4'] %}
          Caroline is onderweg naar huis. (Edegem)
        {% elif states('person.caroline') in ['Checkpoint 5'] %}
          Caroline is bijna thuis. (Rumst E19)
        {% endif %}
      data:
        push:
          thread-id: "bewoner"
