
alias: Notify - Dusty - Ios Caro
sequence:
  - condition: template
    value_template: "{{ states('input_boolean.notify_caro') in ['on'] and states('person.caroline') not in ['home'] }}"
  - service: notify.ios_ios_iphone_caro
    data_template:
      title: "DUSTY"
      message: >
        {% if states.vacuum.dusty.attributes.status == 'Stuck' %}
          'Dusty zit vast. Die Domme Dusty toch.'
        {% elif states.vacuum.dusty.attributes.bin_full == true %}
          'Dusty heeft te veel gegeten. Maak zijn buikje leeg a.u.b.'
        {% elif states('vacuum.dusty') in ['off'] and states('input_boolean.vacuum_cleaned_today') in ['on'] %}
          'Dusty is klaar met zijn taak.'
        {% elif states('vacuum.dusty') in ['off'] and states('input_boolean.vacuum_cleaned_today') in ['off'] %}
          'Dusty is nog niet klaar met zijn taak voor vandaag.'
        {% elif states('vacuum.dusty') in ['on'] %}
          'Dusty begint het huis te kuisen. Beep Beep'
        {% else %}
          'Dusty is still going strong'
        {% endif %}
      data:
        push:
          thread-id: "huis"
