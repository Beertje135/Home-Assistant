
alias: Notify iOS Bert - Vuilbak - Als buiten moeten
sequence:
  - condition: template
    value_template: "{{ states('input_boolean.notify_bert') in ['on'] and states('person.bert') in ['home'] }}"
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: "VUILZAKKEN"
      message: >
        {% if ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_glas')) %}
          Zet vandaag PMD, PAPIER, GLAS en RESTAFVAL buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_glas')) %}
          Zet vandaag PMD, PAPIER en RESTAFVAL buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_glas')) %}
          Zet vandaag PMD en RESTAFVAL buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_glas')) %}
          Zet vandaag PMD en PAPIER buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_glas')) %}
          Zet vandaag PAPIER en RESTAFVAL buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_glas')) %}
          Zet vandaag PAPIER en GLAS buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_glas')) %}
          Zet vandaag PMD en GLAS buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_glas')) %}
          Zet vandaag GLAS en RESTAFVAL buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_glas')) %}
          Zet vandaag PMD buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_glas')) %}
          Zet vandaag PAPIER buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_glas')) %}
          Zet vandaag GLAS buiten, morgen komen ze deze ophalen.
        {% elif ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) != states('sensor.recycleapp_glas')) %}
          Zet vandaag RESTAFVAL buiten, morgen komen ze deze ophalen.
        {% else %}
          Check even of er afval buiten moet. Ik ben niet zeker.
        {% endif %}
      data:
        push:
          thread-id: "huis"

#"{{ as_timestamp(states('sensor.recycleapp_restafval')) != as_timestamp(states('sensor.date')) }}"

# {{((as_timestamp(now())+ (86400)) | timestamp_custom("%Y-%m-%d",true) == states('sensor.recycleapp_restafval')) }}
