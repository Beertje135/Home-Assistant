
alias: Notify iOS Caro - Printer - Inkt
sequence:
  - condition: template
    value_template: "{{ states('input_boolean.notify_caro') in ['on'] }}"
  - service: notify.mobile_app_iphone_van_caro
    data_template:
      title: "PRINTER"
      message: >
        {% if (states('sensor.hp_deskjet_3700_series_black_ink') | float < 25) and (states('sensor.hp_deskjet_3700_series_tri_color_ink') | float < 25)%}
          'De Printer zit bijna zonder inkt, bestel zowel zwart als kleuren inkt'
        {% elif (states('sensor.hp_deskjet_3700_series_black_ink') | float < 25)%}
          'De Printer zit bijna zonder inkt, bestel zwarte inkt'
        {% elif  (states('sensor.hp_deskjet_3700_series_tri_color_ink') | float < 25)%}
          'De Printer zit bijna zonder inkt, bestel kleuren inkt'
        {% else %}
          'Printer is still going strong'
        {% endif %}
      data:
        push:
          thread-id: "huis"
