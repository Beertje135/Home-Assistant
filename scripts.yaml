empty:
  alias: Empty
  sequence:
  - delay: 00:00:01
  mode: single
all_switch_off:
  alias: All - Switch - Uit
  sequence:
  - service: switch.turn_off
    entity_id: switch.hue_smart_plug_1, switch.hue_smart_plug_2, switch.hue_smart_plug_3,
      switch.hue_smart_plug_4
  mode: single
all_remote_off:
  alias: All - Remote - Uit
  sequence:
  - service: script.turn_on
    entity_id: script.harmony_hub_powered_off
  - condition: state
    entity_id: input_boolean.keep_computer_on
    state: 'off'
  - delay: 00:05:00
  - condition: state
    entity_id: input_boolean.keep_computer_on
    state: 'off'
  - condition: or
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Juist Weg
    - condition: state
      entity_id: input_select.woning_status
      state: Weg
    - condition: state
      entity_id: input_select.woning_status
      state: Slapen
  - service: script.turn_on
    entity_id: script.computer_off
  mode: single
all_music_off:
  alias: All - Music - Stop
  sequence:
  - service: script.turn_on
    data:
      entity_id:
      - script.radio_bathroom_off
      - script.radio_kitchen_off
      - script.radio_livingroom_off
      - script.radio_bedroom_off
  mode: single
all_light_off:
  alias: All - Light - Uit
  sequence:
  - service: light.turn_off
    entity_id: light.hue_white_filament_globe_g125_1, light.hue_white_and_color_ambiance_a19_gen2_1,
      light.hue_white_b22_2, light.hue_white_and_color_ambiance_a19_gen2_2, light.milight_keuken_bridge,
      light.lightstrip_woonkamer_tv
  - service: switch.turn_off
    entity_id: switch.hue_smart_plug_1, switch.hue_smart_plug_2, switch.hue_smart_plug_3,
      switch.hue_smart_plug_4
  mode: single
all_all_off:
  alias: All - All - Uit
  sequence:
  - service: script.turn_on
    entity_id: script.all_light_off, script.all_music_off, script.all_remote_off,
      script.all_switch_off
  mode: single
dusty_on:
  alias: Dusty - Aan
  sequence:
  - condition: time
    after: input_datetime.dusty_start
    before: input_datetime.dusty_stop
  - condition: numeric_state
    entity_id: sensor.hue_motion_sensor_2_light_level
    above: '10'
  - condition: state
    entity_id: vacuum.dusty
    state: docked
  - condition: state
    entity_id: input_boolean.vacuum_clean_today
    state: 'on'
  - service: vacuum.start
    data:
      entity_id: vacuum.dusty
  mode: single
dusty_off:
  alias: Dusty - Uit
  sequence:
  - condition: not
    conditions:
    - condition: state
      entity_id: vacuum.dusty
      state: docked
  - service: vacuum.return_to_base
    data:
      entity_id: vacuum.dusty
  mode: single
restart_hassio:
  alias: Restart - Hassio
  sequence:
  - delay: 00:01:00
  - service: input_boolean.turn_off
    entity_id: input_boolean.trigger_away, input_boolean.trigger_home, input_boolean.trigger_sleep,
      input_boolean.trigger_morning
  - service: input_boolean.turn_on
    entity_id: input_boolean.light_downstairs
  - service: script.turn_on
    entity_id: script.notify_hassio_restart
  - service: automation.turn_on
    entity_id: all
  mode: single
computer_off:
  alias: Computer - Uit
  sequence:
  - condition: state
    entity_id: input_boolean.keep_computer_on
    state: 'off'
  - service: hassio.addon_stdin
    data:
      addon: core_rpc_shutdown
      input: pc_bert_lan
  mode: single
computer_on:
  alias: Computer - Aan
  sequence:
  - condition: state
    entity_id: group.bewoners
    state: home
  - service: switch.turn_on
    entity_id: switch.wake_on_lan
  mode: single
harmony_hub_alexa:
  alias: Harmony Hub - Alexa
  sequence:
  - service: input_select.select_option
    entity_id: input_select.harmony_hub
    data:
      option: Alexa
  mode: single
harmony_hub_powered_off:
  alias: Harmony Hub - PowerOff
  sequence:
  - service: input_select.select_option
    entity_id: input_select.harmony_hub
    data:
      option: PowerOff
  mode: single
harmony_hub_tv_decoder:
  alias: Harmony Hub - TV Decoder
  sequence:
  - service: input_select.select_option
    entity_id: input_select.harmony_hub
    data:
      option: TV Decoder
  mode: single
harmony_hub_apple_tv:
  alias: Harmony Hub - Apple TV
  sequence:
  - service: input_select.select_option
    entity_id: input_select.harmony_hub
    data:
      option: Apple tv
  mode: single
remote_harmony_hub_apple_tv_pause:
  alias: Remote Harmony Hub - Apple TV - Pause
  sequence:
  - service: remote.send_command
    data:
      entity_id: remote.harmony_hub
      command: Pause
      device: Apple TV
  mode: single
remote_harmony_hub_belgacom_dvr_pause:
  alias: Remote Harmony Hub - Belgacom DVR - Pause
  sequence:
  - service: remote.send_command
    data:
      entity_id: remote.living_room
      command: Pause
      device: Belgacom DVR
  mode: single
remote_harmony_hub_lg_tv_pause:
  alias: Remote Harmony Hub - LG Tv - Pause
  sequence:
  - service: remote.send_command
    data:
      entity_id: remote.harmony_hub
      command: Pause
      device: LG Tv
  mode: single
radio_follow_on:
  alias: Muziek - Overal - Volgen Aan
  sequence:
  - service: input_boolean.turn_on
    data:
      entity_id: input_boolean.music_follow
  mode: single
radio_follow_off:
  alias: Muziek - Overal - Volgen Uit
  sequence:
  - service: input_boolean.turn_off
    data:
      entity_id: input_boolean.music_follow
  mode: single
radio_selected_on:
  alias: Muziek - Overal - Selecteer Aan
  sequence:
  - service: media_player.play_media
    data_template:
      entity_id: "{%- if states('input_select.media_player') in ['Overal', 'Beneden']
        -%}\n  media_player.alexa_kitchen_2\n{%- elif states('input_select.media_player')
        in ['Keuken'] -%}\n  media_player.alexa_kitchen_amp\n{%- elif states('input_select.media_player')
        in ['Woonkamer'] -%}\n  media_player.alexa_livingroom_1\n{%- elif states('input_select.media_player')
        in ['Badkamer'] -%}\n  media_player.alexa_bathroom\n{%- elif states('input_select.media_player')
        in ['Mobiele'] -%}\n  media_player.alexa_mobile\n{%- else -%}\n  script.empty\n{%-
        endif %}\n"
      media_content_id: "{%- if states('input_select.media_player') in ['Overal']
        -%}\n  {{ states('input_text.radio_station_current') }} on the Alexa Everywhere
        group\n{%- elif states('input_select.media_player') in ['Beneden'] -%}\n  {{
        states('input_text.radio_station_current') }} on the Alexa Downstairs group\n{%-
        else -%}\n  {{ states('input_text.radio_station_current') }}\n{%- endif %}\n"
      media_content_type: TUNEIN
  - delay: 00:00:05
  - service: script.turn_on
    data_template:
      entity_id: "{%- if states('input_select.media_player') in ['Overal', 'Beneden']
        -%}\n  script.radio_kitchen_volume, script.radio_livingroom_volume, script.radio_bathroom_volume\n{%-
        elif states('input_select.media_player') in ['Beneden'] -%}\n  script.radio_kitchen_volume,
        script.radio_livingroom_volume\n{%- elif states('input_select.media_player')
        in ['Keuken'] -%}\n  script.radio_kitchen_volume\n{%- elif states('input_select.media_player')
        in ['Woonkamer'] -%}\n  script.radio_livingroom_volume\n{%- elif states('input_select.media_player')
        in ['Badkamer'] -%}\n  script.radio_bathroom_volume\n{%- else -%}\n  script.empty\n{%-
        endif %}\n"
radio_kitchen_on:
  alias: Muziek - Keuken - Aan
  sequence:
  - service: script.turn_on
    data:
      entity_id: script.radio_kitchen_volume
  - service: media_player.media_play
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_wit_1
  mode: single
radio_bathroom_on:
  alias: Muziek - Badkamer - Aan
  sequence:
  - service: script.turn_on
    data:
      entity_id: script.radio_bathroom_volume
  - service: media_player.media_play
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_wit_2
  mode: single
radio_livingroom_on:
  alias: Muziek - Woonkamer - Aan
  sequence:
  - service: script.turn_on
    data:
      entity_id: script.radio_livingroom_volume
  - service: media_player.media_play
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_zwart_1
  mode: single
radio_bedroom_on:
  alias: Muziek - Slaapkamer - Aan
  sequence:
  - service: script.turn_on
    data:
      entity_id: script.radio_bedroom_volume
  - service: media_player.media_play
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_wit_3
  mode: single
radio_bathroom_off:
  alias: Muziek - Badkamer - Uit
  sequence:
  - condition: state
    entity_id: media_player.apple_homepod_mini_wit_2
    state: playing
  - service: media_player.media_pause
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_wit_2
  mode: single
radio_kitchen_off:
  alias: Muziek - Keuken - Uit
  sequence:
  - condition: state
    entity_id: media_player.apple_homepod_mini_wit_1
    state: playing
  - service: media_player.media_pause
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_wit_1
  mode: single
radio_livingroom_off:
  alias: Muziek - Woonkamer - Uit
  sequence:
  - condition: state
    entity_id: media_player.apple_homepod_mini_zwart_1
    state: playing
  - service: media_player.media_pause
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_zwart_1
  mode: single
radio_bedroom_off:
  alias: Muziek - Slaapkamer - Uit
  sequence:
  - condition: state
    entity_id: media_player.apple_homepod_mini_wit_3
    state: playing
  - service: media_player.media_pause
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_wit_3
  mode: single
radio_livingroom_volume:
  alias: Muziek - Woonkamer - Volume
  mode: queued
  sequence:
  - wait_template: '{{ is_state(''media_player.apple_homepod_mini_zwart_1'', ''playing'')
      }}'
    timeout: 00:00:05
    continue_on_timeout: false
  - choose:
    - conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Juist Wakker
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.04
        target:
          entity_id: media_player.apple_homepod_mini_zwart_1
    - conditions:
      - condition: time
        before: 07:30:00
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.04
        target:
          entity_id: media_player.apple_homepod_mini_zwart_1
    - conditions:
      - condition: not
        conditions:
        - condition: state
          entity_id: person.caroline
          state: home
      - condition: state
        entity_id: person.bert
        state: home
      - condition: time
        after: 07:30:00
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.1
        target:
          entity_id: media_player.apple_homepod_mini_zwart_1
    - conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Thuis Werk
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.04
        target:
          entity_id: media_player.apple_homepod_mini_zwart_1
    default:
    - service: media_player.volume_set
      data:
        volume_level: 0.1
      target:
        entity_id: media_player.apple_homepod_mini_zwart_1
radio_kitchen_volume:
  alias: Muziek - Keuken - Volume
  mode: queued
  sequence:
  - wait_template: '{{ is_state(''media_player.apple_homepod_mini_wit_1'', ''playing'')
      }}'
    timeout: 00:00:05
    continue_on_timeout: false
  - choose:
    - conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Juist Wakker
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.04
        target:
          entity_id: media_player.apple_homepod_mini_wit_1
    - conditions:
      - condition: time
        before: 07:30:00
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.04
        target:
          entity_id: media_player.apple_homepod_mini_wit_1
    - conditions:
      - condition: time
        after: '19:00:00'
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.06
        target:
          entity_id: media_player.apple_homepod_mini_wit_1
    - conditions:
      - condition: not
        conditions:
        - condition: state
          entity_id: person.caroline
          state: home
      - condition: state
        entity_id: person.bert
        state: home
      - condition: time
        after: 07:30:00
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.2
        target:
          entity_id: media_player.apple_homepod_mini_wit_1
    - conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Thuis Werk
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.04
        target:
          entity_id: media_player.apple_homepod_mini_wit_1
    default:
    - service: media_player.volume_set
      data:
        volume_level: 0.2
      target:
        entity_id: media_player.apple_homepod_mini_wit_1
  max: 10
radio_bathroom_volume:
  alias: Muziek - Badkamer - Volume
  mode: queued
  sequence:
  - wait_template: '{{ is_state(''media_player.apple_homepod_mini_wit_2'', ''playing'')
      }}'
    timeout: 00:00:05
    continue_on_timeout: false
  - choose:
    - conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Juist Wakker
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.02
        target:
          entity_id: media_player.apple_homepod_mini_wit_2
    - conditions:
      - condition: time
        before: 07:30:00
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.02
        target:
          entity_id: media_player.apple_homepod_mini_wit_2
    - conditions:
      - condition: not
        conditions:
        - condition: state
          entity_id: person.caroline
          state: home
      - condition: state
        entity_id: person.bert
        state: home
      - condition: time
        after: 07:30:00
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.1
        target:
          entity_id: media_player.apple_homepod_mini_wit_2
    default:
    - service: media_player.volume_set
      data:
        volume_level: 0.02
      target:
        entity_id: media_player.apple_homepod_mini_wit_2
radio_bedroom_volume:
  alias: Muziek - Slaapkamer - Volume
  mode: queued
  sequence:
  - wait_template: '{{ is_state(''media_player.apple_homepod_mini_wit_3'', ''playing'')
      }}'
    timeout: 00:00:05
    continue_on_timeout: false
  - choose:
    - conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Juist Wakker
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.02
        target:
          entity_id: media_player.apple_homepod_mini_wit_3
    - conditions:
      - condition: time
        before: 07:30:00
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.02
        target:
          entity_id: media_player.apple_homepod_mini_wit_3
    - conditions:
      - condition: not
        conditions:
        - condition: state
          entity_id: person.caroline
          state: home
      - condition: state
        entity_id: person.bert
        state: home
      - condition: time
        after: 07:30:00
      sequence:
      - service: media_player.volume_set
        data:
          volume_level: 0.1
        target:
          entity_id: media_player.apple_homepod_mini_wit_3
    default:
    - service: media_player.volume_set
      data:
        volume_level: 0.02
      target:
        entity_id: media_player.apple_homepod_mini_wit_3
light_bathroom_on:
  alias: Licht - Badkamer - Aan
  mode: single
  max_exceeded: silent
  sequence:
  - choose:
    - conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Slapen
        for:
          minutes: 6
      - condition: time
        after: 05:00:00
        before: '23:00:00'
      sequence:
      - service: scene.turn_on
        entity_id: scene.badkamer_gedimmed
    - conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Slapen
      - condition: time
        after: 05:00:00
        before: '23:00:00'
      sequence:
      - service: scene.turn_on
        entity_id: scene.badkamer_normaal
    - conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Slapen
      sequence:
      - service: scene.turn_on
        entity_id: scene.badkamer_nacht
    - conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Juist Wakker
      sequence:
      - service: scene.turn_on
        entity_id: scene.badkamer_gedimmed
    - conditions:
      - condition: time
        after: '21:40:00'
        before: 06:10:00
      sequence:
      - service: scene.turn_on
        entity_id: scene.badkamer_gedimmed
    - conditions:
      - condition: state
        entity_id: input_boolean.sun_up_down
        state: 'on'
      sequence:
      - service: scene.turn_on
        entity_id: scene.badkamer_normaal_dag
    default:
    - service: scene.turn_on
      entity_id: scene.badkamer_normaal
light_dressing_on:
  alias: Licht - Dressing - Aan
  sequence:
  - service: scene.turn_on
    data_template:
      entity_id: "{% if states('input_select.woning_status') in ['Slapen'] and (states('sensor.time')
        > '05:01' and states('sensor.time') < '21:50') %}\n  scene.dressing_nacht\n{%
        elif states('input_select.woning_status') in ['Slapen'] and (states('sensor.time')
        >= '21:51' or states('sensor.time') <= '05:00') %}\n  scene.dressing_nacht\n{%
        elif states('input_select.woning_status') in ['Juist Wakker'] %}\n  scene.dressing_gedimmed\n{%
        elif states('sensor.time') >= '21:40' or states('sensor.time') <= '06:45'
        %}\n  scene.dressing_gedimmed\n{% else %}\n  scene.dressing_normaal\n{% endif
        %}\n"
light_bureau_on:
  alias: Licht - Bureau - Aan
  sequence:
  - service: scene.turn_on
    data_template:
      entity_id: "{% if states('input_select.woning_status') in ['Slapen'] and (states('sensor.time')
        > '05:01' and states('sensor.time') < '21:50') %}\n  scene.bureau_nacht\n{%
        elif states('input_select.woning_status') in ['Slapen'] and (states('sensor.time')
        >= '21:51' or states('sensor.time') <= '05:00') %}\n  scene.bureau_nacht\n{%
        elif states('input_select.woning_status') in ['Juist Wakker'] %}\n  scene.bureau_gedimmed\n{%
        elif states('sensor.time') >= '21:40' or states('sensor.time') <= '06:45'
        %}\n  scene.bureau_gedimmed\n{% else %}\n  scene.bureau_normaal\n{% endif
        %}\n"
light_kitchen_on:
  alias: Licht - Keuken - Aan
  sequence:
  - service: scene.turn_on
    data_template:
      entity_id: "{% if states('input_select.woning_status') in ['Slapen'] and (states('sensor.time')
        > '05:01' and states('sensor.time') < '23:00') %}\n  scene.keuken_gedimmed\n{%
        elif states('input_select.woning_status') in ['Slapen'] and (states('sensor.time')
        >= '23:01' or states('sensor.time') <= '05:00') %}\n  scene.keuken_nacht\n{%
        elif states('input_boolean.sun_up_down') in ['off'] and states('input_select.woning_status')
        in ['Juist Wakker'] %}\n scene.keuken_gedimmed\n{% elif states('sensor.time')
        >= states('input_datetime.elmo_slapen') and states('input_boolean.media_livingroom')
        in ['on'] %}\n  scene.keuken_film\n{% elif (states('sensor.time') >= '20:30'
        and states('sensor.time') <= '06:30') %}\n  scene.keuken_gedimmed\n{% elif
        states('sensor.hue_motion_sensor_2_light_level') < '100' and states('binary_sensor.hue_motion_sensor_2_motion')
        in ['off'] and states('input_select.woning_status') in ['Thuis', 'Juist Thuis',
        'Thuis Werk', 'Thuis Verlof'] %}\n  scene.keuken_gedimmed\n{% elif states('input_boolean.sun_up_down')
        in ['on'] %}\n  scene.keuken_normaal_dag\n{% elif states('input_boolean.sun_up_down')
        in ['off'] and states('sensor.time') > '20:00' and states('sensor.time') <
        '06:55' %}\n scene.keuken_gedimmed\n{% else %}\n  scene.keuken_normaal\n{%
        endif %}\n"
  mode: single
light_elmo:
  alias: Licht - Slaapkamer Elmo
  sequence:
  - choose:
    - conditions:
      - condition: state
        entity_id: light.hue_white_and_color_ambiance_a19_gen2_1
        state: 'off'
      - condition: or
        conditions:
        - condition: and
          conditions:
          - condition: state
            entity_id: binary_sensor.workday_sensor
            state: 'on'
          - condition: time
            after: input_datetime.elmo_wekker_week
            before: 08:01:00
        - condition: and
          conditions:
          - condition: state
            entity_id: binary_sensor.workday_sensor
            state: 'off'
          - condition: time
            after: input_datetime.elmo_wekker_weekend
            before: 08:01:00
      sequence:
      - service: scene.turn_on
        data:
          entity_id: scene.elmo_ochtend
    - conditions:
      - condition: state
        entity_id: light.hue_white_and_color_ambiance_a19_gen2_1
        state: 'off'
      - condition: or
        conditions:
        - condition: time
          after: input_datetime.dutje_start
          before: input_datetime.dutje_stop
        - condition: and
          conditions:
          - condition: state
            entity_id: binary_sensor.workday_sensor
            state: 'on'
          - condition: time
            after: input_datetime.elmo_slapen
            before: input_datetime.elmo_wekker_week
        - condition: and
          conditions:
          - condition: state
            entity_id: binary_sensor.workday_sensor
            state: 'off'
          - condition: time
            after: input_datetime.elmo_slapen
            before: input_datetime.elmo_wekker_weekend
      sequence:
      - service: scene.turn_on
        data:
          entity_id: scene.elmo_nacht
    - conditions:
      - condition: state
        entity_id: light.hue_white_and_color_ambiance_a19_gen2_1
        state: 'off'
      sequence:
      - service: scene.turn_on
        data:
          entity_id: scene.elmo_normaal
    default:
    - service: scene.turn_on
      data:
        entity_id: scene.elmo_uit
  mode: single
light_trix:
  alias: Licht - Slaapkamer Trix
  sequence:
  - choose:
    - conditions:
      - condition: state
        entity_id: light.hue_white_and_color_ambiance_a19_gen2_2
        state: 'off'
      - condition: or
        conditions:
        - condition: and
          conditions:
          - condition: state
            entity_id: binary_sensor.workday_sensor
            state: 'on'
          - condition: time
            after: input_datetime.trix_wekker_week
            before: 08:01:00
        - condition: and
          conditions:
          - condition: state
            entity_id: binary_sensor.workday_sensor
            state: 'off'
          - condition: time
            after: input_datetime.trix_wekker_weekend
            before: 08:01:00
      sequence:
      - service: scene.turn_on
        data:
          entity_id: scene.trix_ochtend
    - conditions:
      - condition: state
        entity_id: light.hue_white_and_color_ambiance_a19_gen2_2
        state: 'off'
      - condition: or
        conditions:
        - condition: time
          after: input_datetime.dutje_start
          before: input_datetime.dutje_stop
        - condition: and
          conditions:
          - condition: state
            entity_id: binary_sensor.workday_sensor
            state: 'on'
          - condition: time
            after: input_datetime.trix_slapen
            before: input_datetime.trix_wekker_week
        - condition: and
          conditions:
          - condition: state
            entity_id: binary_sensor.workday_sensor
            state: 'off'
          - condition: time
            after: input_datetime.trix_slapen
            before: input_datetime.trix_wekker_weekend
      sequence:
      - service: scene.turn_on
        data:
          entity_id: scene.trix_nacht
    - conditions:
      - condition: state
        entity_id: light.hue_white_and_color_ambiance_a19_gen2_2
        state: 'off'
      sequence:
      - service: scene.turn_on
        data:
          entity_id: scene.trix_normaal
    default:
    - service: scene.turn_on
      data:
        entity_id: scene.trix_uit
  mode: single
light_porch_on:
  alias: Licht - Veranda - Aan
  sequence:
  - service: scene.turn_on
    data_template:
      entity_id: "{% if states('input_select.woning_status') in ['Slapen'] and (states('sensor.time')
        > '05:01' and states('sensor.time') < '23:00') %}\n  scene.veranda_gedimmed\n{%
        elif states('input_select.woning_status') in ['Slapen'] and (states('sensor.time')
        >= '23:01' or states('sensor.time') <= '05:00') %}\n  scene.veranda_nacht\n{%
        elif states('sensor.time') >= states('input_datetime.elmo_slapen') and states('input_boolean.media_livingroom')
        in ['on'] %}\n  scene.veranda_film\n{% elif states('sensor.time') >= states('input_datetime.elmo_slapen')
        and state_attr('remote.harmony_hub', 'current_activity') in ['TV Decoder','WebOS','Apple
        tv'] %}\n  scene.veranda_televisie\n{% elif states('input_boolean.media_kitchen')
        in ['on'] %}\n  scene.veranda_gedimmed\n{% elif states('sensor.time') >= '21:40'
        %}\n  scene.veranda_gedimmed\n{% elif states('sensor.time') < '07:15' %}\n
        \ scene.veranda_gedimmed\n{% else %}\n  scene.veranda_normaal\n{% endif %}\n"
  mode: single
light_livingroom_on:
  alias: Licht - Woonkamer - Aan
  sequence:
  - service: scene.turn_on
    data_template:
      entity_id: "{% if states('input_select.woning_status') in ['Slapen'] and (states('sensor.time')
        > '05:01' and states('sensor.time') < '23:00') %}\n  scene.woonkamer_gedimmed\n{%
        elif states('input_select.woning_status') in ['Slapen'] and (states('sensor.time')
        >= '23:01' or states('sensor.time') <= '05:00') %}\n  scene.woonkamer_nacht\n{%
        elif states('sensor.time') >= states('input_datetime.elmo_slapen') and states('input_boolean.media_livingroom')
        in ['on'] %}\n  scene.woonkamer_film\n{% elif state_attr('remote.harmony_hub',
        'current_activity') in ['TV Decoder','WebOS','Apple tv'] %}\n  scene.woonkamer_televisie\n{%
        elif states('sensor.time') >= '21:40' %}\n  scene.woonkamer_gedimmed\n{% elif
        (states('sensor.hue_motion_sensor_3_light_level') | float(0)) > 26 %}\n  scene.woonkamer_gedimmed\n{%
        else %}\n  scene.woonkamer_normaal\n{% endif %}\n"
light_livingroom_off:
  alias: Licht - Woonkamer - Uit
  sequence:
  - choose:
    - conditions:
      - condition: state
        entity_id: input_boolean.keep_christmas_on
        state: 'on'
      - condition: state
        entity_id: input_boolean.light_downstairs
        state: 'on'
      - condition: or
        conditions:
        - condition: state
          entity_id: input_select.woning_status
          state: Thuis
        - condition: state
          entity_id: input_select.woning_status
          state: Juist Thuis
        - condition: state
          entity_id: input_select.woning_status
          state: Thuis Verlof
        - condition: state
          entity_id: input_select.woning_status
          state: Thuis Werk
        - condition: state
          entity_id: input_select.woning_status
          state: Juist Wakker
      sequence:
      - service: scene.turn_on
        data:
          entity_id: scene.woonkamer_uit_kerstmis
    default:
    - service: scene.turn_on
      data:
        entity_id: scene.woonkamer_uit
input_trigger_away:
  alias: Input - Trigger Away
  sequence:
  - service: input_boolean.turn_on
    data:
      entity_id: input_boolean.trigger_away
input_trigger_home:
  alias: Input - Trigger Home
  sequence:
  - service: input_boolean.turn_on
    entity_id: input_boolean.trigger_home
input_trigger_morning:
  alias: Input - Trigger Morning
  sequence:
  - service: input_boolean.turn_on
    entity_id: input_boolean.trigger_morning
input_trigger_sleep:
  alias: Input - Trigger Sleep
  sequence:
  - service: input_boolean.turn_on
    entity_id: input_boolean.trigger_sleep
evo_status_away:
  alias: Evohome - Status - Away
  sequence:
  - service: evohome.set_system_mode
    data:
      mode: Away
evo_status_custom:
  alias: Evohome - Status - Custom
  sequence:
  - service: evohome.set_system_mode
    data:
      mode: Custom
  mode: single
evo_status_economy:
  alias: Evohome - Status - Economy
  sequence:
  - service: evohome.set_system_mode
    data:
      mode: AutoWithEco
evo_status_heating_off:
  alias: Evohome - Status - Heating Off
  sequence:
  - service: evohome.set_system_mode
    data:
      mode: HeatingOff
evo_status_day_off:
  alias: Evohome - Status - Day Off
  sequence:
  - service: evohome.set_system_mode
    data:
      mode: DayOff
  mode: single
evo_status_auto:
  alias: Evohome - Status - Auto
  sequence:
  - service: evohome.set_system_mode
    data:
      mode: Auto
  mode: single
evo_zone_bathroom_reset:
  alias: Evohome - Badkamer - Reset
  sequence:
  - condition: template
    value_template: '{{ (state_attr(''climate.badkamer'', ''preset_mode'') != ''none''
      ) }}'
  - service: climate.set_preset_mode
    data:
      entity_id: climate.badkamer
      preset_mode: none
evo_zone_kitchen_lower:
  alias: Evohome - Keuken - Lager
  sequence:
  - service: climate.set_temperature
    entity_id: climate.keuken
    data:
      temperature: 18.5
evo_zone_kitchen_reset:
  alias: Evohome - Keuken - Reset
  sequence:
  - condition: template
    value_template: '{{ (state_attr(''climate.keuken'', ''preset_mode'') != ''none''
      ) }}'
  - service: climate.set_preset_mode
    data:
      entity_id: climate.keuken
      preset_mode: none
evo_zone_kitchen_rise:
  alias: Evohome - Keuken - Hoger
  sequence:
  - service: climate.set_temperature
    entity_id: climate.keuken
    data:
      temperature: 20.5
evo_zone_livingroom_lower:
  alias: Evohome - Woonkamer - Lager
  sequence:
  - service: climate.set_temperature
    entity_id: climate.woonkamer
    data:
      temperature: 18.5
evo_zone_livingroom_reset:
  alias: Evohome - Woonkamer - Reset
  sequence:
  - condition: template
    value_template: '{{ (state_attr(''climate.woonkamer'', ''preset_mode'') != ''none''
      ) }}'
  - service: climate.set_preset_mode
    data:
      entity_id: climate.woonkamer
      preset_mode: none
evo_zone_livingroom_rise:
  alias: Evohome - Woonkamer - Hoger
  sequence:
  - service: climate.set_temperature
    entity_id: climate.woonkamer
    data:
      temperature: 20.5
notify_battery:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_battery_ios_bert
    - script.notify_battery_speak
  alias: Notificatie - Batterij
  mode: single
notify_battery_speak:
  sequence:
  - condition: template
    value_template: '{{ states(''group.bewoners'') in [''home''] }}'
  - condition: template
    value_template: '{{ states(''input_select.woning_status'') not in [''Slapen'']
      }}'
  - wait_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: Er is een batterij bijna leeg
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
  alias: Notificatie - Batterij - Spreek
  mode: single
notify_battery_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data:
      title: BATTERIJ
      message: Er is een batterij bijna leeg
      data:
        group: huis
  alias: Notificatie - Batterij - iOS Bert
  mode: single
notify_bezoeker_babysit_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data:
      title: BABYSIT
      message: Mag babysit afgemeld worden?
      data:
        group: bezoek
        tag: babysit-status
  alias: Notificatie - Bezoeker Babysit - iOS Bert
  mode: single
notify_bezoeker_babysit_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - service: notify.mobile_app_iphone_van_caroline
    data:
      title: BABYSIT
      message: Mag babysit afgemeld worden?
      data:
        group: bezoek
        tag: babysit-status
  alias: Notificatie - Bezoeker Babysit - iOS Caroline
  mode: single
notify_cooling_downstairs:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_cooling_downstairs_ios_bert
    - script.notify_cooling_downstairs_ios_caro
    - script.notify_cooling_downstairs_speak
  alias: Notificatie - Ventilatie Beneden
  mode: single
notify_cooling_downstairs_speak:
  sequence:
  - condition: template
    value_template: '{{ states(''group.bewoners'') in [''home''] }}'
  - condition: template
    value_template: '{{ states(''input_select.woning_status'') not in [''Slapen'']
      }}'
  - wait_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data_template:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: "{% if states('input_boolean.cooling_downstairs') == 'on' %}\n  'Het
        is buiten kouder dan in de keuken. Misschien een raam open zetten?'\n{% else
        %}\n  'Het is buiten warm aan het worden. Best de ramen sluiten.'\n{% endif
        %}\n"
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
  alias: Notificatie - Ventilatie Beneden - Spreek
  mode: single
notify_cooling_downstairs_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: person.bert
    state: home
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: VERLUCHTING
      message: "{% if states('input_boolean.cooling_downstairs') == 'on' %}\n  Het
        is buiten frisser dan in de keuken. Misschien even verluchten?\n{% else %}\n
        \ Het is buiten warm aan het worden. Best de ramen sluiten.\n{% endif %}\n"
      data:
        group: huis
        tag: verwarming-beneden-status
  alias: Notificatie - Ventilatie Beneden - iOS Bert
  mode: single
notify_cooling_downstairs_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: state
    entity_id: person.caroline
    state: home
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: VERLUCHTING
      message: "{% if states('input_boolean.cooling_downstairs') == 'on' %}\n  Het
        is buiten frisser dan in de keuken. Misschien even verluchten?\n{% else %}\n
        \ Het is buiten warm aan het worden. Best de ramen sluiten.\n{% endif %}\n"
      data:
        group: huis
        tag: verwarming-beneden-status
  alias: Notificatie - Ventilatie Beneden - iOS Caroline
  mode: single
notify_cooling_upstairs:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_cooling_upstairs_ios_bert
    - script.notify_cooling_upstairs_ios_caro
    - script.notify_cooling_upstairs_speak
  alias: Notificatie - Ventilatie Boven
  mode: single
notify_cooling_upstairs_speak:
  sequence:
  - condition: state
    entity_id: group.bewoners
    state: home
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Slapen
  - wait_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data_template:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: "{% if states('input_boolean.cooling_upstairs') == 'on' %}\n  'Het
        is koud buiten. Misschien de kinderkamers verluchten?'\n{% else %}\n  'Het
        word warm buiten. Miischien de airconditioning opzetten in de kinderen hun
        kamer?'\n{% endif %}\n"
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
  alias: Notificatie - Ventilatie Boven - Spreek
  mode: single
notify_cooling_upstairs_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: person.bert
    state: home
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: VERLUCHTING
      message: "{% if states('input_boolean.cooling_upstairs') == 'on' %}\n  Het is
        buiten frisser. Misschien even verluchten op de kamers?\n{% else %}\n  Het
        is buiten warm aan het worden. Misschien de Airco opzetten op de kamers?\n{%
        endif %}\n"
      data:
        group: huis
        tag: verwarming-boven-status
  alias: Notificatie - Ventilatie Boven - iOS Bert
  mode: single
notify_cooling_upstairs_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: state
    entity_id: person.caroline
    state: home
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: VERLUCHTING
      message: "{% if states('input_boolean.cooling_upstairs') == 'on' %}\n  Het is
        buiten frisser. Misschien even verluchten op de kamers?\n{% else %}\n  Het
        is buiten warm aan het worden. Misschien de Airco opzetten op de kamers?\n{%
        endif %}\n"
      data:
        group: huis
        tag: verwarming-boven-status
  alias: Notificatie - Ventilatie Boven - iOS Caroline
  mode: single
notify_deurbel:
  alias: Notificatie - Deurbel
  mode: single
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_deurbel_ios_bert
    - script.notify_deurbel_ios_caro
    - script.notify_deurbel_speak
notify_deurbel_speak:
  alias: Notificatie - Deurbel - Spreek
  mode: single
  sequence:
  - condition: template
    value_template: '{{ states(''group.bewoners_router'') in [''home''] or states(''binary_sensor.bezoek'')
      in [''on'']}}'
  - condition: template
    value_template: '{{ states(''input_select.woning_status'') not in [''Slapen'']
      }}'
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_wit_2
      - media_player.apple_homepod_mini_zwart_1
      message: Er staat iemand aan de voordeur
  - service: script.turn_on
    entity_id: script.notify_resume_media
notify_deurbel_ios_bert:
  alias: Notificatie - Deurbel - iOS Bert
  mode: single
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: VOORDEUR
      message: Ding Dong! Er staat iemand aan de voordeur.
      data:
        group: huis
notify_deurbel_ios_caro:
  alias: Notificatie - Deurbel - iOS Caroline
  mode: single
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: or
    conditions:
    - condition: state
      entity_id: person.caroline
      state: home
    - condition: and
      conditions:
      - condition: state
        entity_id: person.caroline
        state: not_home
      - condition: state
        entity_id: person.caroline
        state: not_home
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: VOORDEUR
      message: Ding Dong! Er staat iemand aan de voordeur.
      data:
        group: huis
notify_deurbel_back:
  alias: Notificatie - Deurbel Achter
  mode: single
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_deurbel_back_ios_bert
    - script.notify_deurbel_back_ios_caro
    - script.notify_deurbel_back_speak
notify_deurbel_back_speak:
  alias: Notificatie - Deurbel Achter - Spreek
  mode: single
  sequence:
  - condition: template
    value_template: '{{ states(''group.bewoners_router'') in [''home''] or states(''binary_sensor.bezoek'')
      in [''on'']}}'
  - condition: template
    value_template: '{{ states(''input_select.woning_status'') not in [''Slapen'']
      }}'
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: Er staat iemand aan de achterdeur
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
notify_deurbel_back_ios_bert:
  alias: Notificatie - Deurbel Achter - iOS Bert
  mode: single
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: ACHTERDEUR
      message: Ding Dong! Er staat iemand aan de ACHTERdeur.
      data:
        group: huis
notify_deurbel_back_ios_caro:
  alias: Notificatie - Deurbel Achter - iOS Caroline
  mode: single
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: or
    conditions:
    - condition: state
      entity_id: person.caroline
      state: home
    - condition: and
      conditions:
      - condition: state
        entity_id: person.caroline
        state: not_home
      - condition: state
        entity_id: person.caroline
        state: not_home
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: ACHTERDEUR
      message: Ding Dong! Er staat iemand aan de ACHTERdeur.
      data:
        group: huis
notify_heating_hot_cold_outside:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_heating_hot_cold_outside_ios_bert
    - script.notify_heating_hot_cold_outside_ios_caro
    - script.notify_heating_hot_cold_outside_speak
notify_heating_hot_cold_outside_speak:
  sequence:
  - condition: template
    value_template: '{{ states(''group.bewoners'') in [''home''] }}'
  - condition: template
    value_template: '{{ states(''input_select.woning_status'') not in [''Slapen'']
      }}'
  - wait_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data_template:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: "{% if states('input_boolean.heating') == 'on' %}\n  'Het is koud buiten...
        Ik zal de verwarming opzetten.'\n{% else %}\n  'Het is warm buiten... Ik zal
        de verwarming afzetten'\n{% endif %}\n"
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
notify_heating_hot_cold_outside_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: person.bert
    state: home
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: VERWARMING
      message: "{% if states('input_boolean.heating') == 'on' %}\n  Het is wat frisser
        buiten. Ik zet de verwarming aan.\n{% else %}\n  Het lijkt buiten voldoende
        warm te zijn, ik zet de verwarming uit.\n{% endif %}\n"
      data:
        group: huis
        tag: verwarming-status
notify_heating_hot_cold_outside_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: state
    entity_id: person.caroline
    state: home
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: VERWARMING
      message: "{% if states('input_boolean.heating') == 'on' %}\n  Het is wat frisser
        buiten. Ik zet de verwarming aan.\n{% else %}\n  Het lijkt buiten voldoende
        warm te zijn, ik zet de verwarming uit.\n{% endif %}\n"
      data:
        group: huis
        tag: verwarming-status
notify_heating_economy:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_heating_economy_ios_bert
    - script.notify_heating_economy_ios_caro
notify_heating_economy_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: VERWARMING
      message: Het lijkt dat jullie een tijdje weg zijn, ik zet de verwarming lager
      data:
        group: huis
        tag: verwarming-status
notify_heating_economy_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: VERWARMING
      message: Het lijkt dat jullie een tijdje weg zijn, ik zet de verwarming lager
      data:
        group: huis
        tag: verwarming-status
notify_entity_list:
  sequence:
  - service: notify.entity_log
    data_template:
      message: "{% for state in states %}\n  - {{- state.entity_id -}}\n{% endfor
        %}\n"
  alias: Export - Lijst Entiteiten
  mode: single
notify_hacs_update:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_hacs_update_ios_bert
notify_hacs_update_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data:
      title: SERVER UPDATE
      message: Er is een update beschikbaar voor een Custom Component.
      data:
        group: server
        tag: server-hacs
notify_hassio_overtime:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_hassio_overtime_ios_bert
notify_hassio_overtime_ios_bert:
  sequence:
  - service: notify.mobile_app_iphone_van_bert
    data:
      title: SERVER CRITICAL
      message: Het systeem draait op volle toeren!
      data:
        group: server
notify_hassio_restart:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_hassio_restart_ios_bert
notify_hassio_restart_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: SERVER RESTART
      message: Ik heb mezelf opnieuw opgestart.
      data:
        group: server
        tag: server-restart
notify_hassio_update:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_hassio_update_ios_bert
notify_hassio_update_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data:
      title: SERVER UPDATE
      message: Er is een update beschikbaar.
      data:
        group: server
        tag: server-update
notify_heating_cold_elmo:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_heating_cold_elmo_ios_bert
    - script.notify_heating_cold_elmo_ios_caro
    - script.notify_heating_cold_elmo_speak
notify_heating_cold_elmo_speak:
  sequence:
  - condition: template
    value_template: '{{ states(''group.bewoners'') in [''home''] }}'
  - condition: template
    value_template: '{{ states(''input_select.woning_status'') not in [''Slapen'']
      }}'
  - wait_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: Het is koud aan het worden in de kinderen hun kamer. Staat er misschien
        nog een raam open?
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
notify_heating_cold_elmo_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: person.bert
    state: home
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: VERWARMING
      message: Het is koud op Elmo zijn kamer! Staat er nog een raam open?
      data:
        group: huis
        tag: elmo-status
notify_heating_cold_elmo_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: state
    entity_id: person.caroline
    state: home
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: VERWARMING
      message: Het is koud op Elmo zijn kamer! Staat er nog een raam open?
      data:
        group: huis
        tag: elmo-status
notify_waste:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_waste_ios_bert
    - script.notify_waste_ios_caro
  alias: Notificatie - Afval
  mode: single
notify_waste_speak:
  sequence:
  - condition: template
    value_template: '{{ states(''group.bewoners_router'') in [''home''] or states(''binary_sensor.bezoek'')
      in [''on'']}}'
  - condition: template
    value_template: '{{ states(''input_select.woning_status'') not in [''Slapen'']
      }}'
  - wait_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
    timeout: 00:05:00
    continue_on_timeout: true
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data_template:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: "{% if ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_papier'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) |
        timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_glas')) %}\n
        \ Zet volgende vuilzakken buiten alstublief: Papier, PMD, glas and Afval,
        ze komen deze morgenochtend ophalen.\n{% elif ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_restafval'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_pmd'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_glas')) %}\n  Zet volgende vuilzakken buiten
        alstublief: Papier, PMD and Afval, ze komen deze morgenochtend ophalen.\n{%
        elif ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_papier'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) |
        timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_glas')) %}\n
        \ Zet volgende vuilzakken buiten alstublief: PMD and Afval, ze komen deze
        morgenochtend ophalen.\n{% elif ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_papier'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) |
        timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_glas')) %}\n
        \ Zet volgende vuilzakken buiten alstublief: Papier and PMD, ze komen deze
        morgenochtend ophalen.\n{% elif ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_papier'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) |
        timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_glas')) %}\n
        \ Zet volgende vuilzakken buiten alstublief: Papier and Afval, ze komen deze
        morgenochtend ophalen.\n{% elif ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_papier'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) |
        timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_glas')) %}\n
        \ Zet volgende vuilzakken buiten alstublief: Papier and glas, ze komen deze
        morgenochtend ophalen.\n{% elif ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_papier'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) |
        timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_glas')) %}\n
        \ Zet volgende vuilzakken buiten alstublief: PMD and glas, ze komen deze morgenochtend
        ophalen.\n{% elif ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_papier'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) |
        timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_glas')) %}\n
        \ Zet volgende vuilzakken buiten alstublief: glas and Afval, ze komen deze
        morgenochtend ophalen.\n{% elif ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_restafval')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_papier'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_pmd')) and ((as_timestamp(now())+ (86400)) |
        timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_glas')) %}\n
        \ Zet Alstublief de PMD buiten, ze komen deze morgenochtend ophalen.\n{% elif
        ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_restafval'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_pmd'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_glas')) %}\n  Zet Alstublief het Papier buiten,
        ze komen deze morgenochtend ophalen.\n{% elif ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_restafval'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_pmd'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        == states('sensor.recycleapp_glas')) %}\n  Zet Alstublief het glas buiten,
        ze komen deze morgenochtend ophalen.\n{% elif ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) == states('sensor.recycleapp_restafval'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_papier')) and ((as_timestamp(now())+ (86400))
        | timestamp_custom(\"%Y-%m-%d\",true) != states('sensor.recycleapp_pmd'))
        and ((as_timestamp(now())+ (86400)) | timestamp_custom(\"%Y-%m-%d\",true)
        != states('sensor.recycleapp_glas')) %}\n  Zet Alstublief het Afval buiten,
        ze komen deze morgenochtend ophalen.\n{% else %}\n Kijk de afval kalender
        na alstublief.\n{% endif %}\n"
  - service: script.turn_on
    entity_id: script.notify_resume_media
  alias: Notificatie - Afval - Spreek
  mode: single
notify_waste_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: person.bert
    state: home
  - choose:
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PMD, PAPIER, GLAS en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PMD, PAPIER en het GLAS buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PAPIER, GLAS en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PMD, GLAS en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PMD, PAPIER en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PAPIER en GLAS buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PMD en het GLAS buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet GLAS en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PMD en het PAPIER buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PAPIER en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PMD en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet GLAS buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet PAPIER buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet het PMD buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data:
          title: VUILZAKKEN
          message: Zet het RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    default:
    - service: notify.mobile_app_iphone_van_bert
      data:
        title: VUILZAKKEN
        message: Check even of er afval buiten moet. Ik ben niet zeker.
        data:
          group: huis
          tag: afval-status
  mode: single
  alias: Notificatie - Afval - iOS Bert
notify_waste_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: state
    entity_id: person.caroline
    state: home
  - choose:
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PMD, PAPIER, GLAS en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PMD, PAPIER en het GLAS buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PAPIER, GLAS en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PMD, GLAS en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PMD, PAPIER en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PAPIER en GLAS buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PMD en het GLAS buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet GLAS en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PMD en het PAPIER buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PAPIER en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PMD en RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet GLAS buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet PAPIER buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        below: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        above: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet het PMD buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    - conditions:
      - condition: numeric_state
        entity_id: sensor.recycleapp_glas
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_papier
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_pmd
        attribute: Days_until
        above: '2'
      - condition: numeric_state
        entity_id: sensor.recycleapp_restafval
        attribute: Days_until
        below: '2'
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data:
          title: VUILZAKKEN
          message: Zet het RESTAFVAL buiten, ze komen deze ophalen.
          data:
            group: huis
            tag: afval-status
    default:
    - service: notify.mobile_app_iphone_van_caroline
      data:
        title: VUILZAKKEN
        message: Check even of er afval buiten moet. Ik ben niet zeker.
        data:
          group: huis
          tag: afval-status
  mode: single
  alias: Notificatie - Afval - iOS Caroline
notify_woning_status:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_woning_status_ios_bert
    - script.notify_woning_status_ios_caro
  mode: single
  alias: Notificatie - Woning Status
notify_woning_status_speak:
  sequence:
  - wait_template: '{{ (states(''device_tracker.router_iphone_caro'') == ''home''
      and state_attr(''device_tracker.router_iphone_caro'', ''ap_mac'') == ''60:22:32:e4:6c:99'')
      or (states(''device_tracker.router_iphone_bert'') == ''home'' and state_attr(''device_tracker.router_iphone_bert'',
      ''ap_mac'') == ''60:22:32:e4:6c:99'') }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - delay: 00:00:10
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Thuis
    - condition: state
      entity_id: input_select.woning_status
      state: Weg
    - condition: state
      entity_id: input_select.woning_status
      state: Op Vakantie
    - condition: and
      conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Juist Thuis
      - condition: not
        conditions:
        - condition: state
          entity_id: person.bert
          state: home
          for: 0:10:00
        - condition: state
          entity_id: person.caroline
          state: home
          for: 0:10:00
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data_template:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: "{% if states('input_select.woning_status') in ['Thuis Werk'] %}\n
        \ 'Het is fijn dat je thuis blijft vandaag.'\n{% elif states('input_select.woning_status')
        in ['Thuis Verlof'] %}\n  'Geniet van je dag.'\n{% elif states('input_select.woning_status')
        in ['Slapen'] %}\n  'SLaapwel.. Tot morgen.'\n{% elif states('input_select.woning_status')
        in ['Juist Wakker'] %}\n  'Goede Ochtend. Geniet van je dag.'\n{% elif states('input_select.woning_status')
        in ['Juist Thuis'] %}\n  'Welcom thuis'\n{% elif states('input_select.woning_status')
        in ['Juist Weg'] %}\n  'Tot ziens.. Ik bewaak het huis'\n{% else %}\n  'Ik
        weet niet wat ik moet zeggen'\n{% endif %}\n"
  - service: script.turn_on
    entity_id: script.notify_resume_media
  alias: Notificatie - Woning Status - Spreek
  mode: single
notify_woning_status_ios_bert:
  sequence:
  - condition: or
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Op Vakantie
    - condition: and
      conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Thuis Werk
      - condition: state
        entity_id: input_boolean.heating
        state: 'on'
      - condition: state
        entity_id: person.bert
        state: home
    - condition: and
      conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Thuis Verlof
      - condition: state
        entity_id: input_boolean.heating
        state: 'on'
      - condition: state
        entity_id: person.bert
        state: home
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: STATUS WONING
      message: "{% if states('input_select.woning_status') in ['Op Vakantie'] %}\n
        \ Het lijkt alsof jullie op vakantie zijn. Fijne vakantie geniet er van en
        binnenkort.\n{% else %}\n  Het lijkt alsof je nog thuis bent vandaag. Ik zal
        de verwarming aan laten.\n{% endif %}\n"
      data:
        group: huis
        tag: huis-status
  alias: Notificatie - Woning Status - iOS Bert
  mode: single
notify_woning_status_ios_caro:
  sequence:
  - condition: or
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Op Vakantie
    - condition: and
      conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Thuis Werk
      - condition: state
        entity_id: input_boolean.heating
        state: 'on'
      - condition: state
        entity_id: person.caroline
        state: home
    - condition: and
      conditions:
      - condition: state
        entity_id: input_select.woning_status
        state: Thuis Verlof
      - condition: state
        entity_id: input_boolean.heating
        state: 'on'
      - condition: state
        entity_id: person.caroline
        state: home
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: STATUS WONING
      message: "{% if states('input_select.woning_status') in ['Op Vakantie'] %}\n
        \ Het lijkt alsof jullie op vakantie zijn. Fijne vakantie geniet er van en
        binnenkort.\n{% else %}\n  Het lijkt alsof je nog thuis bent vandaag. Ik zal
        de verwarming aan laten.\n{% endif %}\n"
      data:
        group: huis
        tag: huis-status
  alias: Notificatie - Woning Status - iOS Caroline
  mode: single
notify_light_elmo:
  sequence:
  - service: script.turn_on
    data: {}
    target:
      entity_id:
      - script.notify_light_elmo_ios_bert
      - script.notify_light_elmo_ios_caro
      - script.notify_light_elmo_speak
  - delay:
      hours: 0
      minutes: 20
      seconds: 0
      milliseconds: 0
  alias: Notificatie Wekker Kids
  mode: single
notify_light_elmo_speak:
  sequence:
  - condition: template
    value_template: '{{ states(''input_select.woning_status'') not in [''Slapen'']
      }}'
  - condition: template
    value_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: Het is bijna tijd om Elmo en Trix wakker te maken.
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
notify_light_elmo_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: person.bert
    state: home
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: ELMO
      message: Het is tijd om Elmo en Trix te gaan halen, ik doe binnen 1 minuut het
        licht aan.
      data:
        group: huis
        tag: elmo-wekker
  mode: single
notify_light_elmo_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: state
    entity_id: person.caroline
    state: home
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: ELMO
      message: Het is tijd om Elmo en Trix te gaan halen, ik doe binnen 1 minuut het
        licht aan.
      data:
        group: huis
        tag: elmo-wekker
  mode: single
notify_nmbs_brussel_mechelen_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: TREIN BRUS-MECH
      message: "{% if state_attr('sensor.nmbs_4', 'platform_arriving') in ['1', '3',
        '5', '10', '8'] %}\n  spoor {{ state_attr('sensor.nmbs_4', 'platform_departing')
        }}, {{ state_attr('sensor.nmbs_4', 'departure') }}.\n  {{ state_attr('sensor.nmbs_4',
        'direction') }} --> Links\n{% else %}\n  spoor {{ state_attr('sensor.nmbs_4',
        'platform_departing') }}, {{ state_attr('sensor.nmbs_4', 'departure') }}.\n
        \ {{ state_attr('sensor.nmbs_4', 'direction') }} --> Rechts\n{% endif %}\n"
      data:
        group: trein
        tag: trein-status
notify_nmbs_mechelen_brussel_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: TREIN MECH-BRUS
      message: "{% if state_attr('sensor.nmbs_2', 'platform_arriving') in ['12', '10',
        '8', '6', '4', '2'] %}\n  spoor {{ state_attr('sensor.nmbs_2', 'platform_departing')
        }}, {{ state_attr('sensor.nmbs_2', 'departure') }},\n  {{ state_attr('sensor.nmbs_2',
        'direction') }} --> Rechts\n{% else %}\n  spoor {{ state_attr('sensor.nmbs_2',
        'platform_departing') }}, {{ state_attr('sensor.nmbs_2', 'departure') }},\n
        \ {{ state_attr('sensor.nmbs_2', 'direction') }} --> Links\n{% endif %}\n"
      data:
        group: trein
        tag: trein-status
notify_nmbs_mechelen_willebroek_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: TREIN MECH-WILL
      message: "{% if state_attr('sensor.nmbs_3', 'platform_arriving') in ['1'] %}\n
        \ spoor {{ state_attr('sensor.nmbs_3', 'platform_departing') }}, {{ state_attr('sensor.nmbs_3',
        'departure') }},\n  {{ state_attr('sensor.nmbs_3', 'direction') }} --> Links\n{%
        else %}\n  spoor {{ state_attr('sensor.nmbs_3', 'platform_departing') }},
        {{ state_attr('sensor.nmbs_3', 'departure') }},\n  {{ state_attr('sensor.nmbs_3',
        'direction') }} --> Rechts\n{% endif %}\n"
      data:
        group: trein
        tag: trein-status
notify_nmbs_willebroek_mechelen_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: TREIN WILL-MECH
      message: "{% if state_attr('sensor.nmbs', 'platform_arriving') in ['1', '3',
        '5', '10', '8'] %}\n  spoor {{ state_attr('sensor.nmbs', 'platform_departing')
        }}, {{ state_attr('sensor.nmbs', 'departure') }}.\n  {{ state_attr('sensor.nmbs',
        'direction') }} --> Links\n{% else %}\n  spoor {{ state_attr('sensor.nmbs',
        'platform_departing') }}, {{ state_attr('sensor.nmbs', 'departure') }}.\n
        \ {{ state_attr('sensor.nmbs', 'direction') }} --> Rechts\n{% endif %}\n"
      data:
        group: trein
        tag: trein-status
notify_printer:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_printer_ios_bert
    - script.notify_printer_ios_caro
notify_printer_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: PRINTER
      message: "{% if (states('sensor.hp_deskjet_3700_series_black_ink') | float(0)
        < 25) and (states('sensor.hp_deskjet_3700_series_tri_color_ink') | float(0)
        < 25)%}\n  'De Printer zit bijna zonder inkt, bestel zowel zwart als kleuren
        inkt'\n{% elif (states('sensor.hp_deskjet_3700_series_black_ink') | float(0)
        < 25)%}\n  'De Printer zit bijna zonder inkt, bestel zwarte inkt'\n{% elif
        \ (states('sensor.hp_deskjet_3700_series_tri_color_ink') | float(0) < 25)%}\n
        \ 'De Printer zit bijna zonder inkt, bestel kleuren inkt'\n{% else %}\n  'Printer
        is still going strong'\n{% endif %}\n"
      data:
        push:
          thread-id: huis
notify_printer_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: PRINTER
      message: "{% if (states('sensor.hp_deskjet_3700_series_black_ink') | float(0)
        < 25) and (states('sensor.hp_deskjet_3700_series_tri_color_ink') | float(0)
        < 25)%}\n  'De Printer zit bijna zonder inkt, bestel zowel zwart als kleuren
        inkt'\n{% elif (states('sensor.hp_deskjet_3700_series_black_ink') | float(0)
        < 25)%}\n  'De Printer zit bijna zonder inkt, bestel zwarte inkt'\n{% elif
        \ (states('sensor.hp_deskjet_3700_series_tri_color_ink') | float(0) < 25)%}\n
        \ 'De Printer zit bijna zonder inkt, bestel kleuren inkt'\n{% else %}\n  'Printer
        is still going strong'\n{% endif %}\n"
      data:
        push:
          thread-id: huis
notify_tracker_bert_thuis:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_tracker_bert_thuis_ios_caro
    - script.notify_tracker_bert_thuis_speak
notify_tracker_bert_thuis_speak:
  sequence:
  - wait_template: '{{ states(''device_tracker.router_iphone_bert'') == ''home'' and
      state_attr(''device_tracker.router_iphone_bert'', ''ap_mac'') == ''60:22:32:e4:6c:99''}}'
    timeout: 00:10:00
    continue_on_timeout: false
  - delay: 00:00:10
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Slapen
  - condition: or
    conditions:
    - condition: not
      conditions:
      - condition: state
        entity_id: person.caroline
        state: home
    - condition: state
      entity_id: person.caroline
      state: home
      for: 0:10:00
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      message: Dag Bert, Welkom thuis.
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
notify_tracker_bert_thuis_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: BERT STATUS
      message: "{% if states('person.bert') in ['home'] %}\n  Bert is aangekomen thuis.\n{%
        else %}\n  Bert is thuis vertrokken.\n{% endif %}\n"
      data:
        group: bewoner
        tag: bert-status
notify_tracker_bert_zones:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_tracker_bert_zones_ios_caro
    - script.notify_tracker_bert_zones_speak
notify_tracker_bert_zones_speak:
  sequence:
  - condition: template
    value_template: '{{ states(''input_boolean.notify_caro'') in [''on''] }}'
  - condition: template
    value_template: '{{ states(''group.bewoners'') in [''home''] }}'
  - condition: template
    value_template: '{{ states(''person.bert'') not in [''home''] }}'
  - condition: template
    value_template: '{{ states(''input_select.woning_status'') not in [''Slapen'']
      }}'
  - wait_template: '{{ states(''device_tracker.router_iphone_caro'') == ''home'' and
      state_attr(''device_tracker.router_iphone_caro'', ''ap_mac'') == ''60:22:32:e4:6c:99''
      }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data_template:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: "{% if states('person.bert') in ['Daycare', 'School De Wingerd', 'BKO
        Toverbos', 'Nona & Pepe', 'Mimi & Fleri'] %}\n  'Bert kwam juist aan bij {{
        states('person.caroline') }}.'\n{% elif states('person.bert') in ['Hospital
        St-Augustinus', 'Hospital Edegem', 'Hospital Reet', 'Hospital Middelheim']
        %}\n  'Geen paniek maar Bert is nabij {{ states('person.caroline') }}.'\n{%
        elif states('person.bert') in ['Mechelen Station'] %}\n  'Papa is onderweg
        naar huis van zijn werk.'\n{% elif states('person.bert') in ['Checkpoint 3',
        'Willebroek Station'] %}\n  'Papa is bijna thuis.'\n{% endif %}\n"
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
notify_tracker_bert_zones_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: BERT STATUS
      message: "{% if states('person.bert') in ['Daycare', 'School De Wingerd', 'BKO
        Toverbos', 'Nona & Pepe', 'Mimi & Fleri'] %}\n  Bert is aangekomen bij {{
        states('person.bert') }}.\n{% elif states('person.bert') in ['Hospital St-Augustinus',
        'Hospital Edegem', 'Hospital Reet', 'Hospital Middelheim'] %}\n  Geen paniek
        maar Bert is nabij het {{ states('person.bert') }}.\n{% elif states('person.bert')
        in ['Willebroek Station', 'Mechelen Station'] %}\n  Bert is aangekomen in
        {{ states('person.bert') }}.\n{% elif states('person.bert') in ['Checkpoint
        3'] %}\n  Bert is bijna thuis. (Fort Breendonck)\n{% endif %}\n"
      data:
        group: bewoner
        tag: bert-status
notify_tracker_bezoeker_thuis:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_tracker_bezoeker_thuis_ios_caro
    - script.notify_tracker_bezoeker_thuis_ios_bert
notify_tracker_bezoeker_thuis_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: not
    conditions:
    - condition: state
      entity_id: person.bert
      state: home
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: BEZOEKER
      message: "{% if (bezoeker_state) == 'home' %}\n  {{ bezoeker }} is aangekomen
        bij ons thuis.\n{% else %}\n  {{ bezoeker }} is weer vertrokken.\n{% endif
        %}\n"
      data:
        group: bezoek
notify_tracker_bezoeker_thuis_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: not
    conditions:
    - condition: state
      entity_id: person.caroline
      state: home
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: BEZOEKER
      message: "{% if (bezoeker_state) == 'home' %}\n  {{ bezoeker }} is aangekomen
        bij ons thuis.\n{% else %}\n  {{ bezoeker }} is weer vertrokken.\n{% endif
        %}\n"
      data:
        group: bezoek
notify_tracker_caro_thuis:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_tracker_caro_thuis_ios_bert
    - script.notify_tracker_caro_thuis_speak
notify_tracker_caro_thuis_speak:
  sequence:
  - wait_template: '{{ states(''device_tracker.router_iphone_caro'') == ''home'' and
      state_attr(''device_tracker.router_iphone_caro'', ''ap_mac'') == ''60:22:32:e4:6c:99''
      }}'
    timeout: 00:10:00
    continue_on_timeout: false
  - delay: 00:00:10
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Slapen
  - condition: or
    conditions:
    - condition: not
      conditions:
      - condition: state
        entity_id: person.bert
        state: home
    - condition: state
      entity_id: person.bert
      state: home
      for: 0:10:00
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      message: Hallo Caroline, Welkom thuis.
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
notify_tracker_caro_thuis_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: CARO STATUS
      message: "{% if states('person.caroline') in ['home'] %}\n  Caroline is aangekomen
        thuis.\n{% else %}\n  Caroline is thuis vertrokken.\n{% endif %}\n"
      data:
        group: bewoner
        tag: caro-status
  mode: single
notify_tracker_caro_zones:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_tracker_caro_zones_ios_bert
    - script.notify_tracker_caro_zones_speak
notify_tracker_caro_zones_speak:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: group.bewoners_router
    state: home
  - condition: not
    conditions:
    - condition: state
      entity_id: person.caroline
      state: home
    - condition: state
      entity_id: input_select.woning_status
      state: Slapen
  - wait_template: '{{ states(''device_tracker.router_iphone_bert'') == ''home'' and
      state_attr(''device_tracker.router_iphone_bert'', ''ap_mac'') == ''60:22:32:e4:6c:99''
      }}'
    timeout: 00:07:00
    continue_on_timeout: false
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data_template:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: "{% if states('person.caroline') in ['Daycare', 'BKO Toverbos', 'School
        De Wingerd', 'Nona & Pepe', 'Mimi & Fleri'] %}\n  'Mama kwam aan bij {{ states('person.caroline')
        }}.\n{% elif states('person.caroline') in ['Hospital St-Augustinus', 'Hospital
        Edegem', 'Hospital Reet', 'Hospital Middelheim'] %}\n  'Geen paniek maar Caroline
        is nabij {{ states('person.caroline') }}.\n{% elif states('person.caroline')
        in ['Checkpoint 1', 'Checkpoint 4'] %}\n  'Mama is onderweg naar huis.'\n{%
        elif states('person.caroline') in ['Checkpoint 2', 'Checkpoint 3', 'Checkpoint
        5'] %}\n  'Mama is bijna thuis.'\n{% elif states('person.caroline') in ['Werk
        (Caro)'] %}\n  'Mama is op haar werk.'\n{% else %}\n  'Waar is mama?'\n{%
        endif %}\n"
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
notify_tracker_caro_zones_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: CARO STATUS
      message: "{% if states('person.caroline') in ['Daycare', 'BKO Toverbos', 'School
        De Wingerd', 'Nona & Pepe', 'Mimi & Fleri'] %}\n  Caroline is aangekomen bij
        {{ states('person.caroline') }}.\n{% elif states('person.caroline') in ['Hospital
        St-Augustinus', 'Hospital Edegem', 'Hospital Reet', 'Hospital Middelheim']
        %}\n  Geen paniek maar Caroline is nabij het {{ states('person.caroline')
        }}.\n{% elif states('person.caroline') in ['Checkpoint 1'] %}\n  Caroline
        is onderweg naar huis. (Ikea Wilrijk)\n{% elif states('person.caroline') in
        ['Checkpoint 2'] %}\n  Caroline is bijna thuis. (Sleuf)\n{% elif states('person.caroline')
        in ['Checkpoint 3'] %}\n  Caroline is bijna thuis. (Fort Breendonck)\n{% elif
        states('person.caroline') in ['Checkpoint 4'] %}\n  Caroline is onderweg naar
        huis. (Edegem)\n{% elif states('person.caroline') in ['Checkpoint 5'] %}\n
        \ Caroline is bijna thuis. (Rumst E19)\n{% endif %}\n"
      data:
        group: bewoner
        tag: caro-status
notify_vacuum:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_vacuum_ios_bert
    - script.notify_vacuum_ios_caro
    - script.notify_vacuum_speak
  alias: Notificatie - Stofzuiger
  mode: single
notify_vacuum_speak:
  sequence:
  - condition: or
    conditions:
    - condition: state
      entity_id: group.bewoners
      state: home
    - condition: state
      entity_id: binary_sensor.bezoek
      state: 'on'
  - condition: not
    conditions:
    - condition: and
      conditions:
      - condition: state
        entity_id: input_boolean.vacuum_clean_today
        state: 'off'
      - condition: state
        entity_id: vacuum.dusty
        state: docked
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Slapen
  - wait_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - delay: 00:00:10
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data_template:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      - media_player.apple_homepod_mini_wit_2
      message: "{% if state_attr('vacuum.dusty', 'status') == 'Stuck' %}\n  'Dusty
        zit vast. Niet slim Dusty'\n{% elif state_attr('vacuum.dusty', 'bin_full')
        == true %}\n  'Dusty heeft te veel stof gegeten. Maak zijn buikje leeg alstublieft.'\n{%
        elif states('vacuum.dusty') in ['docked'] and states('input_boolean.vacuum_clean_today')
        in ['on'] %}\n  'Dusty is nog niet klaar met zijn taak vandaag'\n{% elif states('vacuum.dusty')
        in ['cleaning'] %}\n  'Dusty begint het huis te kuisen. Beep Beep'\n{% else
        %}\n  'Dusty is er helemaal klaar voor'\n{% endif %}\n"
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
  alias: Notificatie - Stofzuiger - Spreek
  mode: single
notify_vacuum_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: not
    conditions:
    - condition: state
      entity_id: person.bert
      state: home
  - condition: not
    conditions:
    - condition: and
      conditions:
      - condition: state
        entity_id: input_boolean.vacuum_clean_today
        state: 'off'
      - condition: state
        entity_id: vacuum.dusty
        state: docked
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: DUSTY
      message: "{% if state_attr('vacuum.dusty', 'status') == 'Stuck' %}\n  'Dusty
        zit vast. Die Domme Dusty toch.'\n{% elif state_attr('vacuum.dusty', 'bin_full')
        == true %}\n  'Dusty heeft te veel gegeten. Maak zijn buikje leeg a.u.b.'\n{%
        elif states('vacuum.dusty') in ['docked'] and states('input_boolean.vacuum_clean_today')
        in ['on'] %}\n  'Dusty is nog niet klaar met zijn taak voor vandaag.'\n{%
        elif states('vacuum.dusty') in ['cleaning'] %}\n  'Dusty begint het huis te
        kuisen. Beep Beep'\n{% else %}\n  'Dusty is still going strong'\n{% endif
        %}\n"
      data:
        group: huis
        tag: dusty-status
  alias: Notificatie - Stofzuiger - iOS Bert
  mode: single
notify_vacuum_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: not
    conditions:
    - condition: state
      entity_id: person.caroline
      state: home
  - condition: not
    conditions:
    - condition: and
      conditions:
      - condition: state
        entity_id: input_boolean.vacuum_clean_today
        state: 'off'
      - condition: state
        entity_id: vacuum.dusty
        state: docked
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: DUSTY
      message: "{% if state_attr('vacuum.dusty', 'status') == 'Stuck' %}\n  'Dusty
        zit vast. Die Domme Dusty toch.'\n{% elif state_attr('vacuum.dusty', 'bin_full')
        == true %}\n  'Dusty heeft te veel gegeten. Maak zijn buikje leeg a.u.b.'\n{%
        elif states('vacuum.dusty') in ['docked'] and states('input_boolean.vacuum_clean_today')
        in ['on'] %}\n  'Dusty is nog niet klaar met zijn taak voor vandaag.'\n{%
        elif states('vacuum.dusty') in ['cleaning'] %}\n  'Dusty begint het huis te
        kuisen. Beep Beep'\n{% else %}\n  'Dusty is still going strong'\n{% endif
        %}\n"
      data:
        group: huis
        tag: dusty-status
  alias: Notificatie - Stofzuiger - iOS Caroline
  mode: single
notify_energy_solar_status:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_energy_solar_status_ios_bert
    - script.notify_energy_solar_status_ios_caro
notify_energy_solar_status_speak:
  sequence:
  - condition: state
    entity_id: group.bewoners
    state: home
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Slapen
  - wait_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - choose:
    - conditions:
      - condition: numeric_state
        entity_id: sensor.solaredge_current_power
        above: 500
      sequence:
      - service: script.turn_on
        entity_id: script.notify_prepare_media
      - delay: 00:00:02
      - service: tts.google_translate_say
        data:
          entity_id:
          - media_player.apple_homepod_mini_wit_1
          - media_player.apple_homepod_mini_zwart_1
          - media_player.apple_homepod_mini_wit_2
          message: Er is voldoende Zon. Tijd om de machines op te zetten.
      - service: script.turn_on
        entity_id:
        - script.notify_resume_media
    default:
    - service: script.turn_on
      entity_id: script.notify_prepare_media
    - delay: 00:00:02
    - service: tts.google_translate_say
      data:
        entity_id:
        - media_player.apple_homepod_mini_wit_1
        - media_player.apple_homepod_mini_zwart_1
        - media_player.apple_homepod_mini_wit_2
        message: Er is momenteel onvoldoende Zonne energie.
    - service: script.turn_on
      entity_id:
      - script.notify_resume_media
notify_energy_solar_status_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: person.bert
    state: home
  - choose:
    - conditions:
      - condition: numeric_state
        entity_id: sensor.solaredge_current_power
        above: 500
      sequence:
      - service: notify.mobile_app_iphone_van_bert
        data_template:
          title: ENERGIE
          message: Er is voldoende zonne energie.
          data:
            group: energie
            tag: energie-status
    default:
    - service: notify.mobile_app_iphone_van_bert
      data_template:
        title: ENERGIE
        message: Er is onvoldoende zonne energie.
        data:
          group: energie
          tag: energie-status
notify_energy_solar_status_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: state
    entity_id: person.caroline
    state: home
  - choose:
    - conditions:
      - condition: numeric_state
        entity_id: sensor.solaredge_current_power
        above: 500
      sequence:
      - service: notify.mobile_app_iphone_van_caroline
        data_template:
          title: ENERGIE
          message: Er is voldoende zonne energie. Tijd om te wassen.
          data:
            group: energie
            tag: energie-status
    default:
    - service: notify.mobile_app_iphone_van_caroline
      data_template:
        title: ENERGIE
        message: Er is onvoldoende zonne energie. Ja kan STOPPEN met wassen.
        data:
          group: energie
          tag: energie-status
notify_camera_trix_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: person.bert
    state: home
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: TRIX
      message: Trix haar Camera Staat aan.
      data:
        group: huis
        tag: trix-camera
  mode: single
  alias: Notificatie - Camera Trix - iOS Bert
notify_time_book_pap:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_time_book_pap_speak
    - script.notify_time_book_pap_ios_bert
    - script.notify_time_book_pap_ios_caro
notify_time_book_pap_speak:
  sequence:
  - condition: state
    entity_id: group.bewoners
    state: home
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Slapen
  - wait_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      message: Het is tijd voor boekje en papje.
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
notify_time_book_pap_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: person.bert
    state: home
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: ELMO
      message: Het is tijd voor 'Boekje Papje'
      data:
        group: huis
        tag: elmo-wekker
notify_time_book_pap_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: state
    entity_id: person.caroline
    state: home
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: ELMO
      message: Het is tijd voor 'Boekje Papje'
      data:
        group: huis
        tag: elmo-wekker
notify_preheat_status:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_preheat_status_ios_bert
    - script.notify_preheat_status_ios_caro
notify_preheat_status_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: STATUS WONING
      message: Ik zal de woning voorverwarmen voor je thuiskomst
      data:
        group: huis
        tag: huis-status
notify_preheat_status_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: STATUS WONING
      message: Ik zal de woning voorverwarmen voor je thuiskomst
      data:
        group: huis
        tag: huis-status
notify_prepare_media:
  alias: Notificatie - Voorbereiden Muziek Volume
  mode: single
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_prepare_media_kitchen
    - script.notify_prepare_media_livingroom
    - script.notify_prepare_media_bathroom
notify_prepare_media_kitchen:
  alias: Notificatie - Voorbereiden Muziek Volume - Keuken
  mode: single
  sequence:
  - choose:
    - conditions:
      - condition: state
        state: playing
        entity_id: media_player.apple_homepod_mini_wit_1
      sequence:
      - service: media_player.media_pause
        data: {}
        target:
          entity_id: media_player.apple_homepod_mini_wit_1
      - delay: 00:00:02
      - wait_template: '{{ is_state(''media_player.apple_homepod_mini_wit_1'', ''playing'')
          }}'
        timeout: 00:00:05
        continue_on_timeout: false
      - service: media_player.volume_set
        data:
          volume_level: 0.6
        target:
          entity_id: media_player.apple_homepod_mini_wit_1
    default:
    - wait_template: '{{ is_state(''media_player.apple_homepod_mini_wit_1'', ''playing'')
        }}'
      timeout: 00:00:05
      continue_on_timeout: false
    - service: media_player.volume_set
      data:
        volume_level: 0.6
      target:
        entity_id: media_player.apple_homepod_mini_wit_1
notify_prepare_media_livingroom:
  alias: Notificatie - Voorbereiden Muziek Volume - Woonkamer
  mode: single
  sequence:
  - choose:
    - conditions:
      - condition: state
        state: playing
        entity_id: media_player.apple_homepod_mini_zwart_1
      sequence:
      - service: media_player.media_pause
        data: {}
        target:
          entity_id: media_player.apple_homepod_mini_zwart_1
      - delay: 00:00:02
      - wait_template: '{{ is_state(''media_player.apple_homepod_mini_zwart_1'', ''playing'')
          }}'
        timeout: 00:00:05
        continue_on_timeout: false
      - service: media_player.volume_set
        data:
          volume_level: 0.4
        target:
          entity_id: media_player.apple_homepod_mini_zwart_1
    default:
    - wait_template: '{{ is_state(''media_player.apple_homepod_mini_zwart_1'', ''playing'')
        }}'
      timeout: 00:00:05
      continue_on_timeout: false
    - service: media_player.volume_set
      data:
        volume_level: 0.4
      target:
        entity_id: media_player.apple_homepod_mini_zwart_1
notify_prepare_media_bathroom:
  alias: Notificatie - Voorbereiden Muziek Volume - Badkamer
  mode: single
  sequence:
  - choose:
    - conditions:
      - condition: state
        state: playing
        entity_id: media_player.apple_homepod_mini_wit_2
      sequence:
      - service: media_player.media_pause
        data: {}
        target:
          entity_id: media_player.apple_homepod_mini_wit_2
      - delay: 00:00:02
      - wait_template: '{{ is_state(''media_player.apple_homepod_mini_wit_2'', ''playing'')
          }}'
        timeout: 00:00:05
        continue_on_timeout: false
      - service: media_player.volume_set
        data:
          volume_level: 0.4
        target:
          entity_id: media_player.apple_homepod_mini_wit_2
    default:
    - wait_template: '{{ is_state(''media_player.apple_homepod_mini_wit_2'', ''playing'')
        }}'
      timeout: 00:00:05
      continue_on_timeout: false
    - service: media_player.volume_set
      data:
        volume_level: 0.4
      target:
        entity_id: media_player.apple_homepod_mini_wit_2
notify_resume_media:
  alias: Notificatie - Hervat Muziek
  mode: single
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media_kitchen
    - script.notify_resume_media_livingroom
    - script.notify_resume_media_bathroom
notify_resume_media_kitchen:
  alias: Notificatie - Hervat Muziek - Keuken
  mode: single
  sequence:
  - service: script.turn_on
    entity_id: script.radio_kitchen_volume
  - condition: state
    state: 'on'
    entity_id: input_boolean.music_kitchen_state
  - delay: 00:00:02
  - service: media_player.media_play
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_wit_1
notify_resume_media_livingroom:
  alias: Notificatie - Hervat Muziek - Woonkamer
  mode: single
  sequence:
  - service: script.turn_on
    entity_id: script.radio_livingroom_volume
  - condition: state
    state: playing
    entity_id: media_player.apple_homepod_mini_zwart_1
    for:
      seconds: 30
  - service: media_player.media_play
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_zwart_1
  - service: script.turn_on
    entity_id: script.radio_livingroom_volume
notify_resume_media_bathroom:
  alias: Notificatie - Hervat Muziek - Badkamer
  mode: single
  sequence:
  - service: script.turn_on
    entity_id: script.radio_bathroom_volume
  - condition: state
    state: 'on'
    entity_id: input_boolean.music_bathroom_state
  - delay: 00:00:02
  - service: media_player.media_play
    data: {}
    target:
      entity_id: media_player.apple_homepod_mini_wit_2
  - service: script.turn_on
    entity_id: script.radio_bathroom_volume
notify_energy_use_high:
  sequence:
  - service: script.turn_on
    entity_id:
    - script.notify_energy_use_high_speak
    - script.notify_energy_use_high_ios_bert
    - script.notify_energy_use_high_ios_caro
notify_energy_use_high_speak:
  sequence:
  - condition: state
    entity_id: group.bewoners
    state: home
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.woning_status
      state: Slapen
  - wait_template: '{{ is_state(''group.bewoners_router'', ''home'') }}'
    timeout: 00:05:00
    continue_on_timeout: false
  - service: script.turn_on
    entity_id: script.notify_prepare_media
  - delay: 00:00:02
  - service: tts.google_translate_say
    data:
      entity_id:
      - media_player.apple_homepod_mini_wit_1
      - media_player.apple_homepod_mini_zwart_1
      message: Let op, Het Energieverbuik is te hoog.
  - service: script.turn_on
    entity_id:
    - script.notify_resume_media
notify_energy_use_high_ios_bert:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_bert
    state: 'on'
  - condition: state
    entity_id: person.bert
    state: home
  - service: notify.mobile_app_iphone_van_bert
    data_template:
      title: ENERGIE
      message: Het Energieverbuik is te hoog.
      data:
        group: energie
        tag: energie-status
notify_energy_use_high_ios_caro:
  sequence:
  - condition: state
    entity_id: input_boolean.notify_caro
    state: 'on'
  - condition: state
    entity_id: person.caroline
    state: home
  - service: notify.mobile_app_iphone_van_caroline
    data_template:
      title: ENERGIE
      message: Het Energieverbuik is te hoog.
      data:
        group: energie
        tag: energie-status
